(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{53:function(t,e,n){t.exports=n(82)},58:function(t,e,n){},82:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n.n(a),o=n(26),c=n.n(o),l=(n(58),n(13)),i=n(21),u=n(10),s=n(11);function p(){var t=Object(u.a)(["\n  margin: 10px 0;\n  padding: 15px 30px;\n\n  & label {\n    margin: 20px 0px;\n    display: grid;\n  }\n\n  & input {\n    margin-top: 10px;\n    height: 30px;\n  }\n\n  & textarea {\n    margin-top: 10px;\n    margin-bottom: 15px;\n  }\n\n  & button {\n    display: block;\n    padding: 10px 45px;\n    background-color: white;\n    margin: 35px auto;\n  }\n\n  & button:hover {\n    background-color: darkred;\n    color: white;\n  }\n"]);return p=function(){return t},t}function m(){var t=Object(u.a)(["\n  width: 57%;\n  border: 1px solid rgb(253, 256, 266);\n  margin: auto;\n  background-color: aliceblue;\n"]);return m=function(){return t},t}function d(){var t=Object(u.a)(["\n  text-align: center;\n  border-bottom: 1px solid #f5f5f5;\n  margin: 20px 0;\n"]);return d=function(){return t},t}function h(){var t=Object(u.a)(["\n  margin: 10px 0;\n  padding: 15px 30px;\n  min-height: -webkit-fill-available;\n\n  & textarea {\n    margin-top: 15px;\n    height: 50px;\n    min-width: 250px;\n    max-width: 400px;\n    width: 100%;\n    border: 1px solid gray;\n  }\n\n  & button {\n    margin: 20px 0 25px 10px;\n    height: 30px;\n    width: 100px;\n    background-color: white;\n    border: 1px solid gray;\n  }\n\n  & button:hover {\n    background-color: darkcyan;\n  }\n\n  & span {\n    text-align: center;\n    display: block;\n    margin-bottom: 10px;\n    margin-top: 30px;\n    font-size: 17px;\n    font-weight: 600;\n  }\n\n  & a {\n    text-decoration: none;\n    color: gray;\n    margin-top: 15px;\n  }\n\n  & a:hover {\n    text-decoration: none;\n    color: blue;\n  }\n"]);return h=function(){return t},t}function f(){var t=Object(u.a)(["\n  display: block;\n  border: 1px solid darkcyan;\n  margin: auto;\n  text-align: center;\n  width: 180px;\n  background-color: white;\n\n  &:hover {\n    background-color: darkcyan;\n  }\n"]);return f=function(){return t},t}function b(){var t=Object(u.a)(["\n  text-align: center;\n  font-size: 26px;\n  margin: 30px 0;\n"]);return b=function(){return t},t}function v(){var t=Object(u.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  flex-flow: column;\n"]);return v=function(){return t},t}function x(){var t=Object(u.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return x=function(){return t},t}function g(){var t=Object(u.a)(["\n  border: 1px solid #f5f5f5;\n  margin: 10px 0;\n  padding: 15px 30px;\n\n  & a {\n    text-decoration: none;\n    color: black;\n  }\n\n  & div {\n    text-align: justify;\n    color: black;\n  }\n\n  & div p {\n    display: flex;\n    color: #797059;\n  }\n"]);return g=function(){return t},t}function E(){var t=Object(u.a)(["\n  font-size: 17px;\n  padding: 7px 5px;\n  background-color: darkcyan;\n  box-shadow: 0 0 4px rgba(1, 0, 1, 0.4);\n\n  & ul {\n    list-style: none;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  & li {\n    padding: 0px 10px;\n  }\n\n  & li a {\n    text-decoration: none;\n    color: white;\n  }\n\n  & .active-navlink {\n    color: white;\n    border-bottom: 1px solid white;\n  }\n"]);return E=function(){return t},t}var y=s.a.div(E()),w=s.a.div(g()),O=s.a.div(x()),k=s.a.div(v()),j=s.a.h1(b()),C=s.a.button(f()),S=s.a.p(h()),D=s.a.p(d()),T=s.a.div(m()),M=s.a.div(p()),_=function(){return r.a.createElement(y,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(l.c,{className:"navlink",to:"/",activeClassName:"active-navlink",exact:!0},"Home")),r.a.createElement("li",null,r.a.createElement(l.c,{className:"navlink",to:"/add-post/",activeClassName:"active-navlink"},"Add post"))))},A=n(2),N=n.n(A),P=n(9),I=n(16),Y=n(17),B=n(19),z=n(18),F=n(20),R=n(12),U=n(15),H=n.n(U),J=n(24),L=n.n(J),X="https://simple-blog-api.crew.red/posts",q=function(t){return{type:"ADD_POST",post:t}},V=function(t){function e(){var t,n;Object(I.a)(this,e);for(var a=arguments.length,o=new Array(a),c=0;c<a;c++)o[c]=arguments[c];return(n=Object(B.a)(this,(t=Object(z.a)(e)).call.apply(t,[this].concat(o)))).state={error:null},n.handleFetchStatus=function(){return n.state.error?r.a.createElement("div",null,n.state.error):r.a.createElement("div",null,"Downloading data..")},n.handleDeletePost=function(){var t=Object(P.a)(N.a.mark(function t(e){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,n.props.deletePosts(e);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),n.setState({error:t.t0.message});case 8:case"end":return t.stop()}},t,null,[[0,5]])}));return function(e){return t.apply(this,arguments)}}(),n}return Object(F.a)(e,t),Object(Y.a)(e,[{key:"componentDidMount",value:function(){var t=Object(P.a)(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==this.props.posts.length){t.next=4;break}return t.next=4,this.props.setAllPosts();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.setState({error:t.t0.message});case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props.posts;return r.a.createElement("div",{className:"container"},r.a.createElement(j,null,"List of posts (total posts - ",t.length,")"),t.length>=1?t.map(function(t){return r.a.createElement(w,{key:t.id},r.a.createElement(l.b,{to:"/posts/".concat(t.id)},r.a.createElement("h2",null,t.title)),r.a.createElement("div",null,t.body.substring(0,200)+"..."),r.a.createElement(O,null,r.a.createElement("p",null,t.creator||"Unknown"," "),r.a.createElement("p",null," ",H()(t.date).format("MMM Do YYYY"))),r.a.createElement(C,null,r.a.createElement(l.b,{to:"/posts/".concat(t.id)},"Read the whole post")))}):this.handleFetchStatus())}}]),e}(r.a.Component),W=Object(R.b)(function(t){return{posts:(e=t.posts,[].concat(e).sort(function(t,e){return H()(t.date)>H()(e.date)?-1:H()(t.date)<H()(e.date)?1:void 0}))};var e},function(t){return{setAllPosts:function(){return t(function(){var t=Object(P.a)(N.a.mark(function t(e){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get(X);case 3:n=t.sent,e({type:"SET_POSTS",posts:n.data}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Could not retrieve posts...");case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}())}}})(V),G="https://simple-blog-api.crew.red/comments",K=function(t,e){return{type:"ADD_COMMENT",id:t,comment:e}},Q=function(t){function e(){var t,n;Object(I.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(B.a)(this,(t=Object(z.a)(e)).call.apply(t,[this].concat(r)))).state={comment:"",error:null},n.changeComment=function(t){var e=t.target.value;console.log(n.state.comment),n.setState({comment:e,error:null})},n.addComment=function(t){var e=n.state.comment,a=n.props,r=a.addNewComment,o=a.id;t.preventDefault(),e.length<5||e.length>50?n.setState({error:"Enter a comment with a length of at least 5 characters and a maximum of 50!"}):(r(o,e),n.setState({comment:""}))},n}return Object(F.a)(e,t),Object(Y.a)(e,[{key:"render",value:function(){var t=this.state,e=t.error,n=t.comment;return r.a.createElement("form",{onSubmit:this.addComment},r.a.createElement(k,null,r.a.createElement("textarea",{onChange:this.changeComment,type:"text",value:n,rows:"3",placeholder:"Enter your comment"}),e&&r.a.createElement("span",null,e),r.a.createElement("button",{type:"submit"},"Add comment")))}}]),e}(r.a.Component),Z=Object(R.b)(null,function(t){return{addNewComment:function(e,n){return t(function(t,e){return function(){var n=Object(P.a)(N.a.mark(function n(a){var r;return N.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L()({url:G,method:"post",data:{body:e,prevId:t}});case 3:r=n.sent,console.log(r.data),a(K(r.data)),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error("Could not add comment...");case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(t){return n.apply(this,arguments)}}()}(e,n))}}})(Q),$=function(t){function e(){return Object(I.a)(this,e),Object(B.a)(this,Object(z.a)(e).apply(this,arguments))}return Object(F.a)(e,t),Object(Y.a)(e,[{key:"componentDidMount",value:function(){var t=Object(P.a)(N.a.mark(function t(){return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,0!==this.props.comments.length){t.next=4;break}return t.next=4,this.props.setAllComments();case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),this.setState({error:t.t0.message});case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,e=t.post,n=t.comments;return r.a.createElement(S,null,r.a.createElement("h2",null,e.title),r.a.createElement("div",null,e.body),r.a.createElement(O,null,r.a.createElement("p",null,e.creator||"Unknown"," "),r.a.createElement("p",null," ",H()(e.date).format("MMM Do YYYY"))),r.a.createElement("span",null,"Comments:"),r.a.createElement(Z,{id:this.props.post.id}),r.a.createElement(T,null,n.length>0?n.map(function(t){return r.a.createElement(D,null,t.body)}):r.a.createElement("div",null,"There are no comments for this post.")),r.a.createElement(l.b,{to:"/"},"Back to home"))}}]),e}(r.a.Component),tt=Object(R.b)(function(t,e){return{post:t.posts.find(function(t){return t.id===+e.postId}),comments:t.comments.filter(function(t){return+t.prevId===+e.postId})}},function(t){return{setAllComments:function(){return t(function(){var t=Object(P.a)(N.a.mark(function t(e){var n;return N.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L.a.get(G);case 3:n=t.sent,e({type:"SET_COMMENTS",comments:n.data}),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error("Could not retrieve comments...");case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}())}}})($),et=function(t){function e(){var t,n;Object(I.a)(this,e);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(B.a)(this,(t=Object(z.a)(e)).call.apply(t,[this].concat(r)))).state={posts:{id:"",title:"",date:Date.now(),body:"",creator:""},errors:{title:"",body:"",creator:""}},n.onChangeTitle=function(t){n.setState({title:t.target.value})},n.onChangeBody=function(t){n.setState({body:t.target.value})},n.onChangeCreator=function(t){n.setState({creator:t.target.value})},n.onChangePost=function(t){t.preventDefault();var e=n.state,a=e.title,r=e.body,o=e.creator;if(a.length<5)n.setState({errors:{title:"Title should have at least 5 characters!"}});else if(o.length<4)n.setState({errors:{title:"Creator should have at least 4 characters!"}});else if(r.length<15)n.setState({errors:{body:"Body should have at least 15 characters!"}});else{var c=n.state;n.props.addPosts(c)}},n}return Object(F.a)(e,t),Object(Y.a)(e,[{key:"render",value:function(){return r.a.createElement(M,{onSubmit:this.onChangePost},r.a.createElement("label",null,"Enter your name",r.a.createElement("input",{onChange:this.onChangeCreator,type:"text",name:"creator"})),r.a.createElement("label",null," ","Enter tittle post",r.a.createElement("input",{onChange:this.onChangeTitle,type:"text",name:"tittle"})),r.a.createElement("label",null,"What you want to say?",r.a.createElement("textarea",{onChange:this.onChangeBody,name:"body",rows:"6"})),r.a.createElement("button",{type:"submit"},"Add Post"))}}]),e}(r.a.Component),nt=Object(R.b)(null,function(t){return{addPosts:function(e){return t(function(t){return function(){var e=Object(P.a)(N.a.mark(function e(n){var a;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L()({url:X,method:"post",data:t});case 3:a=e.sent,n(q(a.data.post)),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error(e.t0.response.data.error);case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}()}(e))}}})(et),at=function(){return r.a.createElement("div",null,r.a.createElement("h1",null,"Oops!"),r.a.createElement("h2",null,"404 Not Found"),r.a.createElement("div",null,"Sorry, an error has occured, Requested page not found!"),r.a.createElement("a",{href:"/"},"Take Me Home"))};var rt=function(){return r.a.createElement(l.a,null,r.a.createElement("div",null,r.a.createElement(_,null)),r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/",exact:!0,component:W}),r.a.createElement(i.a,{path:"/add-post/",exact:!0,component:nt}),r.a.createElement(i.a,{path:"/posts/:postId",exact:!0,render:function(t){return r.a.createElement(tt,{postId:t.match.params.postId})}}),r.a.createElement(i.a,{component:at})))},ot=n(23),ct=n(50),lt=n(28),it=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_POSTS":return e.posts;case"ADD_POST":return[].concat(Object(lt.a)(t),[e.post]);default:return t}},ut=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"SET_COMMENTS":return e.comments;case"ADD_COMMENT":return t.map(function(t){return[].concat(Object(lt.a)(t),[e.comment])});default:return t}},st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ot.d,pt=Object(ot.c)({posts:it,comments:ut}),mt=Object(ot.e)(pt,st(Object(ot.a)(ct.a)));c.a.render(r.a.createElement(R.a,{store:mt},r.a.createElement(rt,null)),document.getElementById("root"))}},[[53,1,2]]]);
//# sourceMappingURL=main.58854793.chunk.js.map