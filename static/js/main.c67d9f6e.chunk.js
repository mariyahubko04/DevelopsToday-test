(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{54:function(e,t,n){e.exports=n(83)},59:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(26),c=n.n(o),l=(n(59),n(13)),u=n(21),i=n(10),s=n(11);function p(){var e=Object(i.a)(["\n  margin: 10px 0;\n  padding: 15px 30px;\n\n  & label {\n    margin: 20px 0px;\n    display: grid;\n  }\n\n  & input {\n    margin-top: 10px;\n    height: 30px;\n  }\n\n  & textarea {\n    margin-top: 10px;\n    margin-bottom: 15px;\n  }\n\n  & button {\n    display: block;\n    padding: 10px 45px;\n    background-color: white;\n    margin: 35px auto;\n  }\n\n  & button:hover {\n    background-color: darkred;\n    color: white;\n  }\n"]);return p=function(){return e},e}function m(){var e=Object(i.a)(["\n  width: 57%;\n  border: 1px solid rgb(253, 256, 266);\n  margin: auto;\n  background-color: aliceblue;\n"]);return m=function(){return e},e}function d(){var e=Object(i.a)(["\n  text-align: center;\n  border-bottom: 1px solid #f5f5f5;\n  margin: 20px 0;\n"]);return d=function(){return e},e}function f(){var e=Object(i.a)(["\n  margin: 10px 0;\n  padding: 15px 30px;\n  min-height: -webkit-fill-available;\n\n  & textarea {\n    margin-top: 15px;\n    height: 50px;\n    min-width: 250px;\n    max-width: 400px;\n    width: 100%;\n    border: 1px solid gray;\n  }\n\n  & button {\n    margin: 20px 0 25px 10px;\n    height: 30px;\n    width: 100px;\n    background-color: white;\n    border: 1px solid gray;\n  }\n\n  & button:hover {\n    background-color: darkcyan;\n  }\n\n  & span {\n    text-align: center;\n    display: block;\n    margin-bottom: 10px;\n    margin-top: 30px;\n    font-size: 17px;\n    font-weight: 600;\n  }\n\n  & a {\n    text-decoration: none;\n    color: gray;\n    margin-top: 15px;\n  }\n\n  & a:hover {\n    text-decoration: none;\n    color: blue;\n  }\n"]);return f=function(){return e},e}function h(){var e=Object(i.a)(["\n  display: block;\n  border: 1px solid darkcyan;\n  margin: auto;\n  text-align: center;\n  width: 180px;\n  background-color: white;\n\n  &:hover {\n    background-color: darkcyan;\n  }\n"]);return h=function(){return e},e}function b(){var e=Object(i.a)(["\n  text-align: center;\n  font-size: 26px;\n  margin: 30px 0;\n"]);return b=function(){return e},e}function v(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: start;\n  align-items: center;\n  flex-flow: column;\n"]);return v=function(){return e},e}function g(){var e=Object(i.a)(["\n  display: flex;\n  justify-content: space-between;\n"]);return g=function(){return e},e}function x(){var e=Object(i.a)(["\n  border: 1px solid #f5f5f5;\n  margin: 10px 0;\n  padding: 15px 30px;\n\n  & a {\n    text-decoration: none;\n    color: black;\n  }\n\n  & div {\n    text-align: justify;\n    color: black;\n  }\n\n  & div p {\n    display: flex;\n    color: #797059;\n  }\n"]);return x=function(){return e},e}function y(){var e=Object(i.a)(["\n  font-size: 17px;\n  padding: 7px 5px;\n  background-color: darkcyan;\n  box-shadow: 0 0 4px rgba(1, 0, 1, 0.4);\n\n  & ul {\n    list-style: none;\n    display: flex;\n    justify-content: flex-end;\n  }\n\n  & li {\n    padding: 0px 10px;\n  }\n\n  & li a {\n    text-decoration: none;\n    color: white;\n  }\n\n  & .active-navlink {\n    color: white;\n    border-bottom: 1px solid white;\n  }\n"]);return y=function(){return e},e}var E=s.a.div(y()),O=s.a.div(x()),w=s.a.div(g()),j=s.a.div(v()),k=s.a.h1(b()),C=s.a.button(h()),S=s.a.p(f()),D=s.a.p(d()),P=s.a.div(m()),T=s.a.form(p()),M=function(){return a.a.createElement(E,null,a.a.createElement("ul",null,a.a.createElement("li",null,a.a.createElement(l.c,{className:"navlink",to:"/",activeClassName:"active-navlink",exact:!0},"Home")),a.a.createElement("li",null,a.a.createElement(l.c,{className:"navlink",to:"/add-post/",activeClassName:"active-navlink"},"Add post"))))},_=n(2),A=n.n(_),N=n(9),I=n(16),Y=n(17),B=n(19),z=n(18),F=n(20),R=n(12),U=n(15),H=n.n(U),J=n(24),L=n.n(J),X="https://simple-blog-api.crew.red/posts",q=function(e){return{type:"ADD_POST",post:e}},V=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,o=new Array(r),c=0;c<r;c++)o[c]=arguments[c];return(n=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(o)))).state={error:null},n.handleFetchStatus=function(){return n.state.error?a.a.createElement("div",null,n.state.error):a.a.createElement("div",null,"Downloading data..")},n.handleDeletePost=function(){var e=Object(N.a)(A.a.mark(function e(t){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.props.deletePosts(t);case 3:e.next=8;break;case 5:e.prev=5,e.t0=e.catch(0),n.setState({error:e.t0.message});case 8:case"end":return e.stop()}},e,null,[[0,5]])}));return function(t){return e.apply(this,arguments)}}(),n}return Object(F.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==this.props.posts.length){e.next=4;break}return e.next=4,this.props.setAllPosts();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({error:e.t0.message});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props.posts;return a.a.createElement("div",{className:"container"},a.a.createElement(k,null,"List of posts (total posts - ",e.length,")"),e.length>=1?e.map(function(e){return a.a.createElement(O,{key:e.id},a.a.createElement(l.b,{to:"/posts/".concat(e.id)},a.a.createElement("h2",null,e.title)),a.a.createElement("div",null,e.body.substring(0,200)+"..."),a.a.createElement(w,null,a.a.createElement("p",null,e.creator||"Unknown"," "),a.a.createElement("p",null," ",H()(e.date).format("MMM Do YYYY"))),a.a.createElement(C,null,a.a.createElement(l.b,{to:"/posts/".concat(e.id)},"Read the whole post")))}):this.handleFetchStatus())}}]),t}(a.a.Component),W=Object(R.b)(function(e){return{posts:(t=e.posts,[].concat(t).sort(function(e,t){return H()(e.date)>H()(t.date)?-1:H()(e.date)<H()(t.date)?1:void 0}))};var t},function(e){return{setAllPosts:function(){return e(function(){var e=Object(N.a)(A.a.mark(function e(t){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(X);case 3:n=e.sent,t({type:"SET_POSTS",posts:n.data.filter(function(e){return e.comments})}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not retrieve posts...");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())}}})(V),G="https://simple-blog-api.crew.red/comments",K=function(e,t){return{type:"ADD_COMMENT",id:e,comment:t}},Q=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(a)))).state={comment:"",error:null},n.changeComment=function(e){var t=e.target.value;n.setState({comment:t,error:null})},n.addComment=function(e){var t=n.state.comment,r=n.props,a=r.addNewComment,o=r.id;e.preventDefault(),t.length<5||t.length>50?n.setState({error:"Enter a comment with a length of at least 5 characters and a maximum of 50!"}):(a(o,t),n.setState({comment:""}))},n}return Object(F.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.error,n=e.comment;return a.a.createElement("form",{onSubmit:this.addComment},a.a.createElement(j,null,a.a.createElement("textarea",{onChange:this.changeComment,type:"text",value:n,rows:"3",placeholder:"Enter your comment"}),t&&a.a.createElement("span",null,t),a.a.createElement("button",{type:"submit"},"Add comment")))}}]),t}(a.a.Component),Z=Object(R.b)(null,function(e){return{addNewComment:function(t,n){return e(function(e,t){return function(){var n=Object(N.a)(A.a.mark(function n(r){var a;return A.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,L()({url:G,method:"post",data:{body:t,prevId:e}});case 3:a=n.sent,console.log(a.data),r(K(e,a.data)),n.next=11;break;case 8:throw n.prev=8,n.t0=n.catch(0),new Error("Could not add comment...");case 11:case"end":return n.stop()}},n,null,[[0,8]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))}}})(Q),$=function(e){function t(){return Object(I.a)(this,t),Object(B.a)(this,Object(z.a)(t).apply(this,arguments))}return Object(F.a)(t,e),Object(Y.a)(t,[{key:"componentDidMount",value:function(){var e=Object(N.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,0!==this.props.comments.length){e.next=4;break}return e.next=4,this.props.setAllComments();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),this.setState({error:e.t0.message});case 9:case"end":return e.stop()}},e,this,[[0,6]])}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.post;e.comments;return console.log(t),a.a.createElement(S,null,a.a.createElement("h2",null,t.title),a.a.createElement("div",null,t.body),a.a.createElement(w,null,a.a.createElement("p",null,t.creator||"Unknown"," "),a.a.createElement("p",null," ",H()(t.date).format("MMM Do YYYY"))),a.a.createElement("span",null,"Comments:"),a.a.createElement(Z,{id:this.props.post.id}),a.a.createElement(P,null,t.comments&&t.comments.length>0?t.comments.map(function(e){return a.a.createElement(D,null,e.body)}):a.a.createElement("div",null,"There are no comments for this post.")),a.a.createElement(l.b,{to:"/"},"Back to home"))}}]),t}(a.a.Component),ee=Object(R.b)(function(e,t){return{post:e.posts.find(function(e){return e.id===+t.postId}),comments:e.comments.filter(function(e){return+e.prevId===+t.postId})}},function(e){return{setAllComments:function(){return e(function(){var e=Object(N.a)(A.a.mark(function e(t){var n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get(G);case 3:n=e.sent,t({type:"SET_COMMENTS",comments:n.data}),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(0),new Error("Could not retrieve comments...");case 10:case"end":return e.stop()}},e,null,[[0,7]])}));return function(t){return e.apply(this,arguments)}}())}}})($),te=function(e){function t(){var e,n;Object(I.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(B.a)(this,(e=Object(z.a)(t)).call.apply(e,[this].concat(a)))).state={posts:{id:"",title:"",date:Date.now(),body:"",creator:""},errors:{title:null,body:null,creator:null}},n.onChangeTitle=function(e){n.setState({title:e.target.value,errors:{title:null,body:null,creator:null}})},n.onChangeBody=function(e){n.setState({body:e.target.value,errors:{title:null,body:null,creator:null}})},n.onChangeCreator=function(e){n.setState({creator:e.target.value,errors:{title:null,body:null,creator:null}})},n.onChangePost=function(e){e.preventDefault();var t=n.state,r=t.title,a=t.body,o=t.creator;if(r.length<5)n.setState({errors:{title:"Title should have at least 5 characters!"}});else if(o.length<4)n.setState({errors:{title:"Creator should have at least 4 characters!"}});else if(a.length<15)n.setState({errors:{body:"Body should have at least 15 characters!"}});else{var c=n.state;n.props.addPosts(c),n.setState({posts:{id:"",title:"",date:Date.now(),body:"",creator:""}})}},n}return Object(F.a)(t,e),Object(Y.a)(t,[{key:"render",value:function(){var e=this.state,t=e.errors,n=e.creator,r=e.title,o=e.body;return a.a.createElement(T,{onSubmit:this.onChangePost},a.a.createElement("label",null,"Enter your name",a.a.createElement("input",{onChange:this.onChangeCreator,type:"text",name:"creator",value:n})),t.creator&&a.a.createElement("span",null,t.creator),a.a.createElement("label",null,"Enter title post",a.a.createElement("input",{onChange:this.onChangeTitle,type:"text",name:"title",value:r})),t.title&&a.a.createElement("span",null,t.title),a.a.createElement("label",null,"What you want to say?",a.a.createElement("textarea",{onChange:this.onChangeBody,name:"body",rows:"6",value:o})),t.body&&a.a.createElement("span",null,t.body),a.a.createElement("button",{type:"submit"},"Add Post"))}}]),t}(a.a.Component),ne=Object(R.b)(null,function(e){return{addPosts:function(t){return e(function(e){return function(){var t=Object(N.a)(A.a.mark(function t(n){var r;return A.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L()({url:X,method:"post",data:e});case 3:r=t.sent,n(q(r.data.post)),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),new Error(t.t0.response.data.error);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}()}(t))}}})(te),re=function(){return a.a.createElement("div",null,a.a.createElement("h1",null,"Oops!"),a.a.createElement("h2",null,"404 Not Found"),a.a.createElement("div",null,"Sorry, an error has occured, Requested page not found!"),a.a.createElement("a",{href:"/"},"Take Me Home"))};var ae=function(){return a.a.createElement(l.a,null,a.a.createElement("div",null,a.a.createElement(M,null)),a.a.createElement(u.c,null,a.a.createElement(u.a,{path:"/",exact:!0,component:W}),a.a.createElement(u.a,{path:"/add-post/",exact:!0,component:ne}),a.a.createElement(u.a,{path:"/posts/:postId",exact:!0,render:function(e){return a.a.createElement(ee,{postId:e.match.params.postId})}}),a.a.createElement(u.a,{component:re})))},oe=n(23),ce=n(50),le=n(51),ue=n(34);function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}var se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_POSTS":return t.posts;case"ADD_POST":return[].concat(Object(ue.a)(e),[t.post]);case"ADD_COMMENT":return e.map(function(e){return e.id===t.id?function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ie(n,!0).forEach(function(t){Object(le.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ie(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},e,{comments:[].concat(Object(ue.a)(e.comments),[t.comment])}):e});default:return e}},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_COMMENTS":return t.comments;default:return e}},me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.d,de=Object(oe.c)({posts:se,comments:pe}),fe=Object(oe.e)(de,me(Object(oe.a)(ce.a)));c.a.render(a.a.createElement(R.a,{store:fe},a.a.createElement(ae,null)),document.getElementById("root"))}},[[54,1,2]]]);
//# sourceMappingURL=main.c67d9f6e.chunk.js.map